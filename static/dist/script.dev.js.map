{"version":3,"sources":["script.js"],"names":["document","addEventListener","headerBar","querySelector","getStartedBtn","getElementById","formScreen","resultScreen","regionIn","mediumIn","categoryIn","heroImg","captionEl","shopBtn","classList","remove","style","display","add","fetch","then","r","json","d","region","value","trim","medium","category","alert","textContent","method","headers","body","JSON","stringify","res","ok","Error","error","src","modules","hero","caption","onclick","page","replace","window","location","href","console"],"mappings":"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","sourcesContent":["// static/script.js\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  // —— Element refs ——  \r\n  const headerBar     = document.querySelector('.header');\r\n  const getStartedBtn = document.getElementById('getStarted');\r\n  const formScreen    = document.getElementById('form');\r\n  const resultScreen  = document.getElementById('result');\r\n\r\n  const regionIn   = document.getElementById('region');\r\n  const mediumIn   = document.getElementById('medium');\r\n  const categoryIn = document.getElementById('category');\r\n  const heroImg    = document.getElementById('heroImg');\r\n  const captionEl  = document.getElementById('caption');\r\n  const shopBtn    = document.getElementById('shopNow');\r\n\r\n  // —— Init state ——  \r\n  formScreen.classList.remove('active');\r\n  resultScreen.classList.remove('active');\r\n\r\n  // —— Get Started → Show Form ——  \r\n  getStartedBtn.addEventListener('click', () => {\r\n    headerBar.style.display = 'none';\r\n    formScreen.classList.add('active');\r\n  });\r\n\r\n  // —— Autofill Region via IP ——  \r\n  fetch('https://ipapi.co/json/')\r\n    .then(r => r.json())\r\n    .then(d => { if (d.region) regionIn.value = d.region; })\r\n    .catch(() => { /* ignore */ });\r\n\r\n  // —— Generate → Call Backend & Show Result ——  \r\n  document.getElementById('generate').addEventListener('click', async () => {\r\n    const region   = regionIn.value.trim();\r\n    const medium   = mediumIn.value.trim();\r\n    const category = categoryIn.value.trim();\r\n\r\n    if (!region || !medium || !category) {\r\n      return alert('Please fill out all fields.');\r\n    }\r\n\r\n    // swap screens\r\n    formScreen.classList.remove('active');\r\n    resultScreen.classList.add('active');\r\n    captionEl.textContent = 'Generating…';\r\n\r\n    try {\r\n      const res  = await fetch('/generate_landing', {\r\n        method:  'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body:    JSON.stringify({ region, medium, category })\r\n      });\r\n      const json = await res.json();\r\n      if (!res.ok) throw new Error(json.error || 'API error');\r\n\r\n      // populate\r\n      heroImg.src           = `/images/${json.modules.hero}`;\r\n      captionEl.textContent = json.caption || 'Welcome!';\r\n      shopBtn.onclick       = () => {\r\n        // map `promo.jpg` → `promo.html`\r\n        const page = json.modules.hero.replace('.jpg','') + '.html';\r\n        window.location.href = page;\r\n      };\r\n    } catch (err) {\r\n      console.error(err);\r\n      captionEl.textContent = 'Oops—something went wrong.';\r\n    }\r\n  });\r\n});\r\n"],"file":"script.dev.js"}