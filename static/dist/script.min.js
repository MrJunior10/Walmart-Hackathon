"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".header"),t=document.getElementById("getStarted"),c=document.getElementById("form"),i=document.getElementById("result"),s=document.getElementById("region"),d=document.getElementById("medium"),l=document.getElementById("category"),u=document.getElementById("heroImg"),m=document.getElementById("caption"),g=document.getElementById("shopNow");c.classList.remove("active"),i.classList.remove("active"),t.addEventListener("click",function(){e.style.display="none",c.classList.add("active")}),fetch("https://ipapi.co/json/").then(function(e){return e.json()}).then(function(e){e.region&&(s.value=e.region)}).catch(function(){}),document.getElementById("generate").addEventListener("click",function(){var t,n,r,o,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.value.trim(),n=d.value.trim(),r=l.value.trim(),t&&n&&r){e.next=5;break}return e.abrupt("return",alert("Please fill out all fields."));case 5:return c.classList.remove("active"),i.classList.add("active"),m.textContent="Generating…",e.prev=8,e.next=11,regeneratorRuntime.awrap(fetch("/generate_landing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({region:t,medium:n,category:r})}));case 11:return o=e.sent,e.next=14,regeneratorRuntime.awrap(o.json());case 14:if(a=e.sent,o.ok){e.next=17;break}throw new Error(a.error||"API error");case 17:u.src="/images/".concat(a.modules.hero),m.textContent=a.caption||"Welcome!",g.onclick=function(){var e=a.modules.hero.replace(".jpg","")+".html";window.location.href=e},e.next=26;break;case 22:e.prev=22,e.t0=e.catch(8),console.error(e.t0),m.textContent="Oops—something went wrong.";case 26:case"end":return e.stop()}},null,null,[[8,22]])})});
//# sourceMappingURL=script.min.js.map
